<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate a Google Sheets API request — request_generate • googlesheets4</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Generate a Google Sheets API request — request_generate" />
<meta property="og:description" content="Generate a request, using knowledge of the Sheets API from its Discovery Document. Use
request_make() to execute the request. Most users should, instead, use
higher-level wrappers that facilitate common tasks, such as reading or
writing worksheets or cell ranges. The functions here are intended for
internal use and for programming around the Sheets API.
request_generate() lets you provide the bare minimum of input.
It takes a nickname for an endpoint and:
Uses the API spec to look up the method, path, and base_url.
Checks params for validity and completeness with respect to the
endpoint. Uses params for URL endpoint substitution and separates
remaining parameters into those destined for the body versus the query.
Adds an API key to the query if and only if token = NULL.

" />
<meta property="og:image" content="https://googlesheets4.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">googlesheets4</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/googlesheets4.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/read-sheets.html">Read Sheets</a>
    </li>
    <li>
      <a href="../articles/articles/write-sheets.html">Write Sheets</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Special topics</li>
    <li>
      <a href="../articles/articles/auth.html">googlesheets4 auth</a>
    </li>
    <li>
      <a href="../articles/articles/dates-and-times.html">Dates and times</a>
    </li>
    <li>
      <a href="../articles/articles/find-identify-sheets.html">Find and identify Sheets</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Connections to other packages</li>
    <li>
      <a href="../articles/articles/drive-and-sheets.html">Using googlesheets4 with googledrive</a>
    </li>
    <li>
      <a href="../articles/articles/fun-with-googledrive-and-readxl.html">Fun with googledrive and readxl</a>
    </li>
    <li>
      <a href="../articles/articles/googlesheets4-reprex.html">How to create a googlesheets4 reprex</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/05/googlesheets4-0-2-0/">googlesheets4 0.2.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/googlesheets4/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a Google Sheets API request</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/googlesheets4/blob/master/R/request_generate.R'><code>R/request_generate.R</code></a></small>
    <div class="hidden name"><code>request_generate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generate a request, using knowledge of the <a href='https://developers.google.com/sheets/api/'>Sheets API</a> from its <a href='https://www.googleapis.com/discovery/v1/apis/sheets/v4/rest'>Discovery Document</a>. Use
<code><a href='https://rdrr.io/pkg/googlesheets4/man/request_make.html'>request_make()</a></code> to execute the request. Most users should, instead, use
higher-level wrappers that facilitate common tasks, such as reading or
writing worksheets or cell ranges. The functions here are intended for
internal use and for programming around the Sheets API.</p>
<p><code><a href='https://rdrr.io/pkg/googlesheets4/man/request_generate.html'>request_generate()</a></code> lets you provide the bare minimum of input.
It takes a nickname for an endpoint and:</p><ul>
<li><p>Uses the API spec to look up the <code>method</code>, <code>path</code>, and <code>base_url</code>.</p></li>
<li><p>Checks <code>params</code> for validity and completeness with respect to the
endpoint. Uses <code>params</code> for URL endpoint substitution and separates
remaining parameters into those destined for the body versus the query.</p></li>
<li><p>Adds an API key to the query if and only if <code>token = NULL</code>.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'><a href='https://rdrr.io/pkg/googlesheets4/man/request_generate.html'>request_generate</a></span>(
  endpoint = <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(),
  params = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  key = <span class='kw'>NULL</span>,
  token = <span class='fu'><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_token.html'>gs4_token</a></span>()
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>endpoint</th>
      <td><p>Character. Nickname for one of the selected Sheets API v4
endpoints built into googlesheets4. Learn more in <code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_endpoints.html'>gs4_endpoints()</a></code>.</p></td>
    </tr>
    <tr>
      <th>params</th>
      <td><p>Named list. Parameters destined for endpoint URL substitution,
the query, or the body.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>API key. Needed for requests that don't contain a token. The need
for an API key in the absence of a token is explained in Google's document
<a href='https://support.google.com/googleapi/answer/6158857?hl=en&amp;ref_topic=7013279'>Credentials, access, security, and identity</a>.
In order of precedence, these sources are consulted: the formal <code>key</code>
argument, a <code>key</code> parameter in <code>params</code>, a user-configured API key set up
with <code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_auth_configure.html'>gs4_auth_configure()</a></code> and retrieved with <code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_auth_configure.html'>gs4_api_key()</a></code>.</p></td>
    </tr>
    <tr>
      <th>token</th>
      <td><p>Set this to <code>NULL</code> to suppress the inclusion of a token. Note
that, if auth has been de-activated via <code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_deauth.html'>gs4_deauth()</a></code>,
<code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_token.html'>gs4_token()</a></code> will actually return <code>NULL</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='https://rdrr.io/r/base/list.html'>list()</a></code><br /> Components are <code>method</code>, <code>url</code>, <code>body</code>, and <code>token</code>,
suitable as input for <code><a href='https://rdrr.io/pkg/googlesheets4/man/request_make.html'>request_make()</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://gargle.r-lib.org/reference/request_develop.html'>gargle::request_develop()</a></code>, <code><a href='https://gargle.r-lib.org/reference/request_develop.html'>gargle::request_build()</a></code>,
<code><a href='https://gargle.r-lib.org/reference/request_make.html'>gargle::request_make()</a></code></p>
<p>Other low-level API functions: 
<code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_has_token.html'>gs4_has_token</a>()</code>,
<code><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_token.html'>gs4_token</a>()</code>,
<code><a href='https://rdrr.io/pkg/googlesheets4/man/request_make.html'>request_make</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>req</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/googlesheets4/man/request_generate.html'>request_generate</a></span>(
  <span class='st'>"sheets.spreadsheets.get"</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(spreadsheetId = <span class='fu'><a href='https://rdrr.io/pkg/googlesheets4/man/gs4_example.html'>gs4_example</a></span>(<span class='st'>"deaths"</span>)),
  token = <span class='kw'>NULL</span>
)
<span class='kw'>req</span></div><div class='output co'>#&gt; $method
#&gt; [1] "GET"
#&gt; 
#&gt; $url
#&gt; [1] "https://sheets.googleapis.com/v4/spreadsheets/1VTJjWoP1nshbyxmL9JqXgdVsimaYty21LGxxs018H2Y?key=AIzaSyDKRsnYs5G4c8y4BMlXLKTKMTheNXrsNEM"
#&gt; 
#&gt; $body
#&gt; named list()
#&gt; 
#&gt; $token
#&gt; NULL
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>googlesheets4 is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='https://jennybryan.org'>Jennifer Bryan</a>, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


