<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Authorize googlesheets4 — sheets_auth • googlesheets4</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Authorize googlesheets4 — sheets_auth" />

<meta property="og:description" content="Authorize googlesheets4 to view and manage your Google Sheets. By default,
you are directed to a web browser, asked to sign in to your Google
account, and to grant googlesheets4 permission to operate on your behalf
with Google Sheets. By default, these user credentials are cached in a
folder below your home directory, ~/.R/gargle/gargle-oauth, from where
they can be automatically refreshed, as necessary. Storage at the user
level means the same token can be used across multiple projects and
tokens are less likely to be synced to the cloud by accident." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">googlesheets4</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/googlesheets4-conventions.html">googlesheets4 conventions</a>
    </li>
    <li>
      <a href="../articles/articles/googlesheets4-design-notes.html">googlesheets4 design notes</a>
    </li>
    <li>
      <a href="../articles/articles/sheets-api-v4.html">Google Sheets API v4</a>
    </li>
    <li>
      <a href="../articles/articles/sheets-auth-flow.html">Google Sheets API v4 Auth Flow</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tidyverse/googlesheets4">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Authorize googlesheets4</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/googlesheets4/blob/master/R/sheets_auth.R'><code>R/sheets_auth.R</code></a></small>
    <div class="hidden name"><code>sheets_auth.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Authorize googlesheets4 to view and manage your Google Sheets. By default,
you are directed to a web browser, asked to sign in to your Google
account, and to grant googlesheets4 permission to operate on your behalf
with Google Sheets. By default, these user credentials are cached in a
folder below your home directory, <code>~/.R/gargle/gargle-oauth</code>, from where
they can be automatically refreshed, as necessary. Storage at the user
level means the same token can be used across multiple projects and
tokens are less likely to be synced to the cloud by accident.</p>
    
    </div>

    <pre class="usage"><span class='fu'>sheets_auth</span>(<span class='kw'>email</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scopes</span> <span class='kw'>=</span> <span class='st'>"https://www.googleapis.com/auth/spreadsheets"</span>,
  <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>getOption</a></span>(<span class='st'>"gargle.oauth_cache"</span>),
  <span class='kw'>use_oob</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>getOption</a></span>(<span class='st'>"gargle.oob_default"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>email</th>
      <td><p>Optional; email address associated with the desired Google user.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Optional; path to the downloaded JSON file for a service token.</p></td>
    </tr>
    <tr>
      <th>scopes</th>
      <td><p>Optional; scope(s) to use. See your choices at
<a href='https://developers.google.com/identity/protocols/googlescopes#sheetsv4'>OAuth 2.0 Scopes for Google APIs</a>.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>A logical value or a string. <code>TRUE</code> means to cache using the
default user-level cache file, <code>~/.R/gargle/gargle-oauth</code>, <code>FALSE</code> means
don't cache, and <code>NA</code> means to guess using some sensible heuristics. A
string means use the specified path as the cache file.</p></td>
    </tr>
    <tr>
      <th>use_oob</th>
      <td><p>If <code>FALSE</code>, use a local webserver for the OAuth dance.
Otherwise, provide a URL to the user and prompt for a validation code.
Defaults to the option "gargle.oob_default" or <code>TRUE</code> if httpuv is not
installed.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Most users, most of the time, do not need to call <code>sheets_auth()</code>
explicitly -- it is triggered by the first action that requires
authorization. Even when called, the default arguments often suffice.
However, when necessary, this function allows the user to explicitly:</p><ul>
<li><p>Declare which Google identity to use, via an email address. If there
are multiple cached tokens, this can clarify which one to use. It can
also force googlesheets4 to switch from one identity to another. If
there's no cached token for the email, this triggers a return to the
browser to choose the identity and give consent.</p></li>
<li><p>Use a service account token.</p></li>
<li><p>Specify non-default behavior re: token caching and out-of-bound
authentication.</p></li>
</ul>
    <p>For even deeper control over auth, use <code><a href='sheets_auth_config.html'>sheets_auth_config()</a></code> to use
your own OAuth app or API key.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other auth functions: <code><a href='sheets_auth_config.html'>sheets_auth_config</a></code>,
  <code><a href='sheets_deauth.html'>sheets_deauth</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'>## load/refresh existing credentials, if available</span>
<span class='co'>## otherwise, go to browser for authentication and authorization</span>
<span class='fu'>sheets_auth</span>()

<span class='co'>## force use of a token associated with a specific email</span>
<span class='fu'>sheets_auth</span>(<span class='kw'>email</span> <span class='kw'>=</span> <span class='st'>"jenny@example.com"</span>)

<span class='co'>## use a 'read only' scope, so it's impossible to edit or delete Sheets</span>
<span class='fu'>sheets_auth</span>(
  <span class='kw'>scopes</span> <span class='kw'>=</span> <span class='st'>"https://www.googleapis.com/auth/spreadsheets.readonly"</span>
)

<span class='co'>## use a service account token</span>
<span class='fu'>sheets_auth</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"foofy-83ee9e7c9c48.json"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jennifer Bryan, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

